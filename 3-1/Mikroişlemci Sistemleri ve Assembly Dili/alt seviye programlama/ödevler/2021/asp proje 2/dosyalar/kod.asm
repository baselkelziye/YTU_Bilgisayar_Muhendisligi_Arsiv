codesg SEGMENT PARA 'asssa'
ORG 100H
ASSUME SS:codesg,DS:codesg, CS:codesg
ANA PROC NEAR
MOV AX,251
PUSH AX
CALL func1
POP AX
RET
ANA ENDP
func1 PROC NEAR
ASD:LOOP ASD

PUSH BP
MOV BP,SP
PUSH BX
PUSH AX
PUSH DX
PUSH SI
MOV BX,[BP+4]
MOV SI,BX
CMP BX,2
JLE L1
SHL BX,1
CMP dizi[BX], 0
JG L2
MOV BX,SI
DEC BX
PUSH BX
CALL func1
POP AX
PUSH AX
CALL func1
POP DX
SUB BX,AX
INC BX
PUSH BX
CALL func1
POP AX
ADD DX,AX
SHL SI,1
MOV dizi[SI],DX
MOV [BP+4],DX
JMP L3
L2:MOV BX,dizi[BX]
MOV [BP+4],BX
JMP L3
L1:MOV WORD PTR[BP+4], 1


L3:POP SI
POP DX
POP AX
POP BX
POP BP
RET
func1 ENDP
dizi DW 00,16 DUP(0FFFFH) 
dizi DB 0FFH

codesg ENDS
END ANA